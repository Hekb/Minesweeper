{"ast":null,"code":"var _jsxFileName = \"/Users/Matt/Desktop/Minesweeper/minesweeper/src/components/App/index.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport \"./App.scss\";\nimport Number from \"../Number\";\nimport { generateCells } from \"../../utils\";\nimport Button from '../Button';\nimport { face, cellState, cellValue } from \"../../types\";\n\nconst App = () => {\n  const [cells, setCells] = useState(generateCells());\n  const [Face, setFace] = useState(face.won);\n  const [time, setTime] = useState(0);\n  const [gameStarted, setLive] = useState(false);\n  const [mineCounter, setMineCounter] = useState(10);\n  useEffect(() => {\n    const mosuedown = () => {\n      setFace(face.lost);\n    };\n\n    const mouseup = () => {\n      setFace(face.won);\n    };\n\n    window.addEventListener('mousedown', mosuedown);\n    window.addEventListener('mouseup', mouseup);\n    return () => {\n      window.removeEventListener('mousedown', mosuedown);\n      window.removeEventListener('mouseup', mosuedown);\n    };\n  }, []);\n  useEffect(() => {\n    if (gameStarted && time < 999) {\n      const timer = setInterval(() => {\n        setTime(time + 1);\n      }, 1000);\n      return () => {\n        clearInterval(timer);\n      };\n    }\n  }, [gameStarted, time]);\n\n  const handleCellClick = (row1, col1) => () => {\n    if (!gameStarted) {\n      setLive(true);\n    }\n\n    const currentCell = cells[row1][col1];\n    const newCells = cells.slice();\n    if (currentCell.state === cellState.flagged) return; //clicked on a mine\n\n    if (currentCell.value === cellValue.bomb) {} else if (currentCell.value === cellValue.empty) {//clicked on empty cell\n    } else {//clicked on a number\n      }\n  };\n\n  const faceClicked = () => {\n    if (gameStarted) {\n      setLive(false);\n      setTime(0);\n      setCells(generateCells());\n    }\n  };\n\n  const handleRightClick = (row1, col1) => e => {\n    e.preventDefault();\n    const cell = cells[row1][col1];\n    const currentCells = cells.slice();\n    if (!gameStarted) return;\n\n    if (cell.state === cellState.visible) {\n      return;\n    } else if (cell.state === cellState.open) {\n      currentCells[row1][col1].state = cellState.flagged;\n      setCells(currentCells);\n      setMineCounter(mineCounter - 1);\n    } else if (cell.state === cellState.flagged) {\n      console.log(\"hello\");\n      currentCells[row1][col1].state = cellState.open;\n      setCells(currentCells);\n      setMineCounter(mineCounter + 1);\n    }\n  };\n\n  const renderCells = () => {\n    return cells.map((i, rowIndex) => i.map((cell, colIndex) => /*#__PURE__*/React.createElement(Button, {\n      key: `${rowIndex}-${colIndex}`,\n      row: rowIndex,\n      col: colIndex,\n      state: cell.state,\n      value: cell.value,\n      onClick: handleCellClick,\n      rightClicked: handleRightClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    })));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"preHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Minesweeper\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"Built By Hekmat\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Number, {\n    value: mineCounter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"face\",\n    onClick: faceClicked,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-label\": \"face\",\n    role: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, Face)), /*#__PURE__*/React.createElement(Number, {\n    value: time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }, renderCells()));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/Matt/Desktop/Minesweeper/minesweeper/src/components/App/index.tsx"],"names":["React","useState","useEffect","Number","generateCells","Button","face","cellState","cellValue","App","cells","setCells","Face","setFace","won","time","setTime","gameStarted","setLive","mineCounter","setMineCounter","mosuedown","lost","mouseup","window","addEventListener","removeEventListener","timer","setInterval","clearInterval","handleCellClick","row1","col1","currentCell","newCells","slice","state","flagged","value","bomb","empty","faceClicked","handleRightClick","e","preventDefault","cell","currentCells","visible","open","console","log","renderCells","map","i","rowIndex","colIndex"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, MouseEvent} from 'react';\nimport \"./App.scss\";\nimport Number from \"../Number\";\nimport {generateCells} from \"../../utils\";\nimport Button from '../Button';\nimport {cell, face, cellState, cellValue} from \"../../types\";\n\nconst App: React.FC = () =>{\n    const[cells, setCells] = useState<cell[][]>(generateCells());\n    const[Face, setFace] = useState<face>(face.won);\n    const[time, setTime] = useState<number>(0);\n    const[gameStarted, setLive] = useState<boolean>(false);\n    const[mineCounter, setMineCounter] = useState<number>(10);\n\n    useEffect(() =>{\n        const mosuedown = () =>{\n            setFace(face.lost);\n        }\n        const mouseup = () => {\n            setFace(face.won)\n        }\n        window.addEventListener('mousedown', mosuedown)\n        window.addEventListener('mouseup', mouseup)\n        return () => {\n            window.removeEventListener('mousedown', mosuedown)\n            window.removeEventListener('mouseup', mosuedown)\n        }\n    }, [])\n    useEffect(() => {\n        if(gameStarted && time < 999){\n            const timer = setInterval(() =>{\n                setTime(time + 1);\n            }, 1000)\n            return () => {\n                clearInterval(timer);\n            }    \n        }\n    },[gameStarted, time ]);\n\n    const handleCellClick = (row1: number, col1: number) => (): void => {\n        if(!gameStarted){\n            setLive(true);\n        }\n        const currentCell = cells[row1][col1];\n        const newCells = cells.slice();\n        if(currentCell.state === cellState.flagged) return;\n        //clicked on a mine\n        if(currentCell.value === cellValue.bomb){\n\n        }else if(currentCell.value === cellValue.empty){//clicked on empty cell\n\n        }else{ //clicked on a number\n            \n        }\n    } \n    const faceClicked = () => {\n        if(gameStarted){\n            setLive(false)\n            setTime(0)\n            setCells(generateCells())\n        }\n    }\n    const handleRightClick = (row1: number, col1: number) => (e: React.MouseEvent<HTMLDivElement, MouseEvent>): void =>{\n        e.preventDefault();\n        const cell = cells[row1][col1]\n        const currentCells = cells.slice();\n        if(!gameStarted) return;\n\n        if(cell.state === cellState.visible){\n            return;\n        }else if(cell.state === cellState.open){\n            currentCells[row1][col1].state = cellState.flagged\n            setCells(currentCells)\n            setMineCounter(mineCounter - 1);\n        }else if(cell.state === cellState.flagged){\n            console.log(\"hello\")\n            currentCells[row1][col1].state = cellState.open\n            setCells(currentCells)\n            setMineCounter(mineCounter + 1);\n        }\n    }\n    const renderCells = ():React.ReactNode => {\n        return cells.map((i, rowIndex) => i.map((cell, colIndex) => \n        <Button key={`${rowIndex}-${colIndex}`} \n            row={rowIndex} \n            col={colIndex} \n            state={cell.state} \n            value={cell.value}\n            onClick={handleCellClick}\n            rightClicked={handleRightClick}\n            />)\n        );\n    };\n    return(\n        <div className=\"App\">\n            <div className=\"preHeader\">\n                <p>Minesweeper</p>\n                <p>Built By Hekmat</p>\n            </div>\n            <div className=\"header\">\n                <Number value={mineCounter}>\n                    \n                </Number>\n                <div className=\"face\" onClick={faceClicked}> \n                    <span aria-label=\"face\" role=\"img\">{Face}</span> \n                </div>\n                <Number value={time}>\n\n                </Number>\n            </div>\n            <div className=\"body\">\n                {renderCells()}\n            </div>\n\n\n        </div>\n        \n    )\n};\nexport default App;\n"]},"metadata":{},"sourceType":"module"}